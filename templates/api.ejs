<%# 
  ========================================================================
  API 模板文档
  ========================================================================
  
  可用变量:
  
  1. imports (对象)
     - imports.types (string[]): 此文件中使用的类型名称列表。例如 ['UserDto', 'ApiResponse']
     - imports.relativePath (string): 类型目录的相对路径。例如 '../../types'
  
  2. functions (对象数组) - 每个函数对应一个 API 端点
     - fn.name (string): 函数名称。例如 'getUserById'
     - fn.method (string): HTTP 方法 (小写)。例如 'get', 'post'
     - fn.url (string): 带有模板字面量的请求 URL。例如 `/users/${id}`
     - fn.description (string): JSDoc 描述或摘要。
     - fn.responseType (string): TypeScript 返回类型。例如 'ApiSuccessResponse<UserVo>'
     
     - fn.hasPathParams (boolean): URL 是否包含路径参数？
     - fn.hasQueryParams (boolean): 是否有查询参数？
     - fn.hasBody (boolean): 是否有请求体？
     
     - fn.paramsSignature (string): 
       用于函数定义的现成参数字符串。
       例如 "id: string, data: CreateUserDto"
       
     - fn.allParams (Array): 用于自定义逻辑的详细参数列表。
       [
         { name: 'id', type: 'string', in: 'path', required: true },
         { name: 'data', type: 'UserDto', in: 'body', required: true },
         { name: 'params', type: 'PageQuery', in: 'query', required: false }
       ]

  3. config (对象)
     - 映射自 codegen.config.ts 中的 `globalContext`
     - 例如 config.importRequestStr
     
  ========================================================================
%>
<%- config.importRequestStr %>
import type { 
<% imports.types.forEach(t => { %>  <%= t %>,
<% }) %> 
} from '<%= imports.relativePath %>';

<% functions.forEach(fn => { %>
/**
 * <%= fn.description %>
 */
export function <%= fn.name %>(<%- fn.paramsSignature %>) {
  return request.<%= fn.method %><<%- fn.responseType %>>(`<%= fn.url %>`, {
    <% if (fn.hasBody) { %>data,<% } %>
    <% if (fn.hasQueryParams) { %>params,<% } %>
  });
}
<% }) %>